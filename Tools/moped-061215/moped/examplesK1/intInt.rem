define N 3
define DEFAULT_INT_BITS N
define M (1<<N) - 2

int X, Y, Z;

init main;

error:	goto error;
ok:	goto ok;

module void foo()
{
	int P;
	int Q[7];
	
	do
	:: true -> skip (P'<7); Q[P] = Q[P] + 1;
	:: true -> X = X + P; Y = Y + P; skip (Z'>0);
	:: true -> break;
	od;
}
	

module void main()
{
	X = 0, Y = 0;

	foo();

	if
	:: (X == Y)	-> goto ok;
	:: else		-> skip;
			   if
			   :: (Z==1) -> goto error;
			   fi;
	fi;
}
	
